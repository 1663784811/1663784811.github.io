---
article: false
title: 03.redis集群
---

## 1.单机 

## 2.主从
### 架构
    7001 主
    7002 从

### 第一步: 主服务器
修改配置redis.conf
```shell
# 绑定主服务器的IP地址或设置为0.0.0.0以允许所有IP地址连接
bind 0.0.0.0

# 允许的保护模式（可以关闭以允许外部访问，但需要注意安全性）
protected-mode no

# 修改端口
port 7001

# 指定数据持久化目录
dir ./redisData

```
启动主服务器
```shell
nohup ./src/redis-server ./redis.conf &
```
### 第二步: 修改从服务器
修改配置redis.conf
```shell
# 绑定从服务器的IP地址或设置为0.0.0.0以允许所有IP地址连接
bind 0.0.0.0

# 允许的保护模式（可以关闭以允许外部访问，但需要注意安全性）
protected-mode no

# 修改端口
port 7002

# 指定数据持久化目录
dir ./redisData

# 指定主服务器的IP地址和端口
replicaof 192.168.1.100 7001

# 如果主服务器设置了密码，需要添加以下配置
# masterauth yourpassword

```
启动从服务器
```shell
nohup ./src/redis-server ./redis.conf &
```

### 第三步: 验证
```shell
## 连接到主节点
./redis-cli -p 7001
## 打印主从信息
INFO replication


## 连接到从节点
./redis-cli -p 7002
## 打印主从信息
INFO replication
```

## 3.哨兵


## 4.cluster 高可用



