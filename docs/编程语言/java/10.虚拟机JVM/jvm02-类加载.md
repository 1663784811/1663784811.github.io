---
article: false
title: jvm02-类加载
---
## 类加载
    
### 类加载过程
#### 1.加载（Loading）
```text
加载阶段的主要任务是将字节码文件加载到JVM的内存中，
并创建一个代表该类的Java.lang.Class对象。
这个Class对象是访问类在方法区中数据结构的接口。123456
加载阶段可以有多种方式获取字节码文件，例如从ZIP包、网络中获取，或者在运行时动态生成。
```
#### 2 链接
#### 2.1验证（Verification）
```text
验证阶段确保加载的字节码文件是合法、合理且符合JVM规范的。
这包括格式检查、语义检查、字节码检查以及符号引用检查。
```
### 2.2准备（Preparation）：
```text
在准备阶段，JVM为类的静态变量分配内存并将其初始化为默认值。这个阶段是在连接阶段中进行的。
```
### 2.3解析（Resolution）：
```text
解析阶段是将常量池中的符号引用替换为直接引用的过程。
符号引用可以是任何形式的字面量，只要使用时能无歧义地定位到目标即可。
直接引用可以是直接指向目标的指针、相对偏移量或者是一个能间接定位到目标的句柄。
```

### 3.初始化（Initialization）
```text
初始化阶段是类加载过程的最后阶段，JVM开始执行类中编写的Java程序代码，
将主导权移交给应用程序。在这个阶段，
类变量和其他资源会根据程序员通过过程序编码制定的主观计划进行初始化。
```

## 类加载器
### 启动类加载器（Bootstrap Class Loader）
```text
它是JVM的一部分，负责加载Java核心类库，如java.lang包中的类。
它是由本地代码实现的，通常不是Java类，因此无法直接访问。
```
### 扩展类加载器（Extension Class Loader）
```text
它是sun.misc.Launcher$ExtClassLoader的实例，负责加载Java的扩展类库，
位于JAVA_HOME/lib/ext目录下的JAR文件。
```
### 应用程序类加载器（Application Class Loader）
```text
也称为系统类加载器，它是sun.misc.Launcher$AppClassLoader的实例，
负责加载应用程序类路径（Classpath）上指定的类。
大多数情况下，用户自定义的类都是由应用程序类加载器加载的。
```
### 自定义类加载器


## 双亲委派
```text
是Java类加载器的一种机制，用于实现类加载器之间的层级关系和加载类的优先级。
在双亲委派模型中，一个类加载器在加载类时，首先将加载请求委派给其父加载器，
只有在父加载器无法找到类时，才会尝试自己加载
```


