---
article: false
title: jvm01-内存模型
---

定义了Java程序中多线程并发访问共享内存时的行为规范，确保多线程程序的正确性和可预测性

### 主内存（Main Memory）：
主内存是所有线程共享的内存，包含了所有的共享变量。主内存是所有线程的统一视图，每个线程都可以访问主内存中的共享变量。

### 工作内存（Working Memory）：
工作内存是每个线程私有的内存区域，用于保存该线程使用到的变量副本。每个线程都拥有自己的工作内存，线程只能直接操作自己的工作内存中的变量副本。

### 内存屏障（Memory Barriers）：
内存屏障是一种同步机制，用于确保内存可见性和指令重排序的正确性。内存屏障分为读屏障和写屏障，读屏障用于确保当前线程从主内存中读取最新的数据，写屏障用于确保当前线程将数据写入到主内存中。

### happens-before关系：
happens-before关系是JMM中的一个重要概念，用于描述操作之间的偏序关系。如果操作A happens-before操作B，那么A对B的影响将对其他线程可见。happens-before关系可以由程序次序规则、volatile变量规则、监视器锁规则、传递性等规则来确定。

### 原子性、可见性、有序性：
JMM保证了对volatile变量的读写操作是原子性的，且具有可见性和有序性。对于非volatile变量，虽然读写操作不一定是原子性的，但是通过使用锁和内存屏障可以确保可见性和有序性







