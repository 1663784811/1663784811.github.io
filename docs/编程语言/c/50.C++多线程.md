---
article: false
title: 50.C++多线程
---

### 创建线程

1.使用 std::thread（C++11 标准库线程）

```cpp
#include <iostream>
#include <thread>

using namespace std;

void runFn() {
	cout << "hello" << endl;
}

int main()
{
	// 创建一个线程
	thread t1(runFn);
	// t1 加入主线程 阻塞主线程
	t1.join();
	cout << "结束" << endl;
	return 0;
}
```
2.使用 std::async（异步任务）

```cpp
#include <iostream>
#include <future>

using namespace std;

int asyncFunction() {
    return 42;
}

int main() {
    future<int> result = async(launch::async, asyncFunction);
    cout << "Result: " << result.get() << endl; // 获取线程返回值
    return 0;
}

```

``` cpp
#include <iostream>
#include <thread>
#include <future>

using namespace std;

int taskFunction(int x) {
    return x * 2;
}

int main() {
    packaged_task<int(int)> task(taskFunction);
    future<int> result = task.get_future();

    thread t(move(task), 10);
    t.join();

    cout << "Result: " << result.get() << endl;
    return 0;
}

```


































